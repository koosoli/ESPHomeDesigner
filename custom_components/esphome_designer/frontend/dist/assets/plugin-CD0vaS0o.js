const F=(t,i,{getColorStyle:e})=>{const a=i.props||{};let n="F0595",o=a.size||24;const h=a.color||"black";let l="sunny";const s=i.entity_id||"";if(s&&window.AppState&&window.AppState.entityStates){const r=window.AppState.entityStates[s],c=r&&r.state!==void 0?r.state:null;c!=null&&(l=String(c).toLowerCase())}if(a.fit_icon_to_frame){const c=Math.max(8,Math.min((i.width||0)-8,(i.height||0)-8));o=Math.round(c)}switch(l){case"clear-night":n="F0594";break;case"cloudy":n="F0590";break;case"exceptional":n="F0026";break;case"fog":n="F0591";break;case"hail":n="F0592";break;case"lightning":n="F0593";break;case"lightning-rainy":n="F067E";break;case"partlycloudy":n="F0595";break;case"pouring":n="F0596";break;case"rainy":n="F0597";break;case"snowy":n="F0598";break;case"snowy-rainy":n="F067F";break;case"sunny":n="F0599";break;case"windy":n="F059D";break;case"windy-variant":n="F059E";break;default:n="F0599"}const p=983040+parseInt(n.slice(1),16),f=String.fromCodePoint(p);if(t.innerText=f,t.style.fontSize=`${o}px`,t.style.color=e(h),t.style.fontFamily="MDI, system-ui, -apple-system, BlinkMacSystemFont, -sans-serif",t.style.lineHeight="1",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",!i.entity_id){t.style.flexDirection="column",t.style.alignItems="flex-start",t.style.justifyContent="flex-start";const r=document.createElement("div");r.style.fontSize="10px",r.style.marginTop="2px",r.textContent="No Entity",t.appendChild(r)}},d=(t,i)=>{const{lines:e,addFont:a,getColorConst:n,getCondProps:o,getConditionCheck:h}=i,l=t.props||{},s=(t.entity_id||"").trim(),p=parseInt(l.size||48,10),f=l.color||"black",r=n(f),c=a("Material Design Icons",400,p);e.push(`        // widget:weather_icon id:${t.id} type:weather_icon x:${t.x} y:${t.y} w:${t.width} h:${t.height} entity:${s} size:${p} color:${f} ${o(t)}`);const u=h(t);if(u&&e.push(`        ${u}`),s){const y=s.replace(/[^a-zA-Z0-9_]/g,"_");e.push("        {"),e.push(`          std::string weather_state = id(${y}).state;`),e.push('          const char* icon = "\\U000F0599"; // Default: sunny'),e.push('          if (weather_state == "clear-night") icon = "\\U000F0594";'),e.push('          else if (weather_state == "cloudy") icon = "\\U000F0590";'),e.push('          else if (weather_state == "exceptional") icon = "\\U000F0026";'),e.push('          else if (weather_state == "fog") icon = "\\U000F0591";'),e.push('          else if (weather_state == "hail") icon = "\\U000F0592";'),e.push('          else if (weather_state == "lightning") icon = "\\U000F0593";'),e.push('          else if (weather_state == "lightning-rainy") icon = "\\U000F067E";'),e.push('          else if (weather_state == "partlycloudy") icon = "\\U000F0595";'),e.push('          else if (weather_state == "pouring") icon = "\\U000F0596";'),e.push('          else if (weather_state == "rainy") icon = "\\U000F0597";'),e.push('          else if (weather_state == "snowy") icon = "\\U000F0598";'),e.push('          else if (weather_state == "snowy-rainy") icon = "\\U000F067F";'),e.push('          else if (weather_state == "sunny") icon = "\\U000F0599";'),e.push('          else if (weather_state == "windy") icon = "\\U000F059D";'),e.push('          else if (weather_state == "windy-variant") icon = "\\U000F059E";'),e.push(`          it.printf(${t.x}, ${t.y}, id(${c}), ${r}, "%s", icon);`),e.push("        }")}else e.push(`        it.printf(${t.x}, ${t.y}, id(${c}), ${r}, "\\U000F0595");`);u&&e.push("        }")},w=t=>{const{lines:i,widgets:e}=t;if(!e||e.length===0)return;const a=new Set;for(const n of e){if(n.type!=="weather_icon")continue;const o=(n.entity_id||"").trim();o&&o.startsWith("weather.")&&a.add(o)}if(a.size>0){i.push("  # Weather Entity Sensors (Detected from Weather Icon)");for(const n of a){const o=n.replace(/[^a-zA-Z0-9_]/g,"_");i.push("  - platform: homeassistant"),i.push(`    id: ${o}`),i.push(`    entity_id: ${n}`),i.push("    internal: true")}i.push("")}},g=(t,{trackIcon:i})=>{const a=(t.props||{}).size||48;["F0594","F0590","F0026","F0591","F0592","F0593","F067E","F0595","F0596","F0597","F0598","F067F","F0599","F059D","F059E"].forEach(n=>i(n,a))},_={id:"weather_icon",name:"Weather Icon",category:"Sensors",defaults:{width:60,height:60,size:48,color:"black",fit_icon_to_frame:!0},render:F,exportLVGL:(t,{common:i,convertColor:e,getLVGLFont:a})=>{const n=t.props||{},o=(t.entity_id||"").trim(),h=parseInt(n.size||48,10),l=e(n.color||"black");let s='"\\U000F0599"';if(o){const p=o.replace(/[^a-zA-Z0-9_]/g,"_");s=`!lambda |-
`,s+=`              std::string ws = id(${p}).state;
`,s+=`              if (ws == "clear-night") return "\\U000F0594";
`,s+=`              if (ws == "cloudy") return "\\U000F0590";
`,s+=`              if (ws == "exceptional") return "\\U000F0026";
`,s+=`              if (ws == "fog") return "\\U000F0591";
`,s+=`              if (ws == "hail") return "\\U000F0592";
`,s+=`              if (ws == "lightning") return "\\U000F0593";
`,s+=`              if (ws == "lightning-rainy") return "\\U000F067E";
`,s+=`              if (ws == "partlycloudy") return "\\U000F0595";
`,s+=`              if (ws == "pouring") return "\\U000F0596";
`,s+=`              if (ws == "rainy") return "\\U000F0597";
`,s+=`              if (ws == "snowy") return "\\U000F0598";
`,s+=`              if (ws == "snowy-rainy") return "\\U000F067F";
`,s+=`              if (ws == "sunny") return "\\U000F0599";
`,s+=`              if (ws == "windy") return "\\U000F059D";
`,s+=`              if (ws == "windy-variant") return "\\U000F059E";
`,s+='              return "\\U000F0599";'}return{label:{...i,text:s,text_font:a("Material Design Icons",h,400),text_color:l,text_align:"CENTER"}}},collectRequirements:g,onExportTextSensors:w,export:d};export{_ as default};
