const C=(t,p,{getColorStyle:n})=>{const l=p.props||{};t.innerHTML="",t.style.display="flex",t.style.flexDirection="column",t.style.justifyContent="center",t.style.alignItems="center";const d=n(l.color),r=(l.font_family||"Roboto")+", sans-serif",s=l.text_align||"CENTER";((_,y)=>{_==="LEFT"?y.style.alignItems="flex-start":_==="RIGHT"?y.style.alignItems="flex-end":y.style.alignItems="center"})(s,t);const e=l.format||"time_date",o=document.createElement("div");o.style.fontSize=`${l.time_font_size||28}px`,o.style.color=d,o.style.fontFamily=r,o.style.fontWeight="bold",o.textContent="12:34";const i=document.createElement("div");i.style.fontSize=`${l.date_font_size||16}px`,i.style.color=d,i.style.fontFamily=r,i.style.opacity="0.8",i.textContent="Monday, Jan 1",e==="time_only"?t.appendChild(o):e==="date_only"?(i.textContent="01.01.2024",t.appendChild(i)):e==="weekday_day_month"?(i.textContent="Monday 01 January",t.appendChild(i)):(t.appendChild(o),t.appendChild(i))},T={id:"datetime",name:"Date & Time",category:"Core",defaults:{format:"time_date",time_font_size:28,date_font_size:16,color:"black",italic:!1,font_family:"Roboto",text_align:"CENTER"},render:C,exportLVGL:(t,{common:p,convertColor:n,convertAlign:l,getLVGLFont:d,formatOpacity:r})=>{const s=t.props||{},a=s.format||"time_date";let e="%H:%M";a==="date_only"?e="%d.%m.%Y":a==="weekday_day_month"?e="%A %d %B":a==="time_date"&&(e="%H:%M\\n%a, %b %d");let o=`!lambda |-
`;return o+=`              auto now = id(ha_time).now();
`,o+=`              return now.strftime("${e}").c_str();`,{label:{...p,text:o,text_font:d(s.font_family,s.time_font_size||28,a==="date_only"?400:700,s.italic),text_color:n(s.color),text_align:(l(s.text_align)||"CENTER").replace("TOP_","").replace("BOTTOM_",""),opa:r(s.opa)}}},export:(t,p)=>{const{lines:n,getColorConst:l,addFont:d,getCondProps:r,getConditionCheck:s,getAlignY:a}=p,e=t.props||{},o=l(e.color||"black"),i=parseInt(e.time_font_size||28,10),_=parseInt(e.date_font_size||16,10),y=d(e.font_family||"Roboto",700,i,!!e.italic),x=d(e.font_family||"Roboto",400,_,!!e.italic),h=e.text_align||"CENTER",$=e.format||"time_date";n.push(`        // widget:datetime id:${t.id} type:datetime x:${t.x} y:${t.y} w:${t.width} h:${t.height} fmt:${$} ${r(t)}`);const g=s(t);g&&n.push(`        ${g}`),n.push("        {"),n.push("          auto now = id(ha_time).now();");let f=Math.round(t.x+t.width/2),c="TextAlign::CENTER";if(h==="LEFT"?(f=t.x,c="TextAlign::TOP_LEFT"):h==="RIGHT"&&(f=t.x+t.width,c="TextAlign::TOP_RIGHT"),$==="time_only"){const m=a?a(h,t.y,t.height):t.y;n.push(`          it.strftime(${f}, ${m}, id(${y}), ${o}, ${c}, "%H:%M", now);`)}else if($==="date_only"){const m=a?a(h,t.y,t.height):t.y;n.push(`          it.strftime(${f}, ${m}, id(${x}), ${o}, ${c}, "%d.%m.%Y", now);`)}else if($==="weekday_day_month"){const m=a?a(h,t.y,t.height):t.y;n.push(`          it.strftime(${f}, ${m}, id(${x}), ${o}, ${c}, "%A %d %B", now);`)}else{const m=i+_+2,u=Math.round(t.y+(t.height-m)/2);n.push(`          it.strftime(${f}, ${u}, id(${y}), ${o}, ${c}, "%H:%M", now);`),n.push(`          it.strftime(${f}, ${u} + ${i} + 2, id(${x}), ${o}, ${c}, "%a, %b %d", now);`)}n.push("        }"),g&&n.push("        }")}};export{T as default};
