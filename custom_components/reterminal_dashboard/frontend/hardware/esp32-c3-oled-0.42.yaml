# ============================================================================
# ESPHome YAML - Generated by ESPHome Designer
# ============================================================================
# TARGET DEVICE: ESP32-C3 OLED 0.42 72x40
#         - https://www.espboards.dev/esp32/esp32-c3-oled-042/
#         - Display Platform: SSD1306
#         - PSRAM: No
#         - Touchscreen: None
#         - Framework: ESP-IDF
# Name: ESP32-C3 OLED 0.42"
# Resolution: 72x40
# Shape: rectangle
# ============================================================================
#
# ============================================================================
#
# SETUP INSTRUCTIONS:
#
# STEP 1: Copy the Material Design Icons font file
#         - From this repo: resources/fonts/materialdesignicons-webfont.ttf
#         - To ESPHome: /config/esphome/fonts/materialdesignicons-webfont.ttf
#         (Create the fonts folder if it doesn't exist)
#
# STEP 2: Create a new device in ESPHome
#         - Click "New Device"
#         - Name: your-device-name
#         - Select: ESP32-C3
#         - Framework: ESP-IDF (Required for this device)
#
# STEP 3: REPLACE your entire YAML with this generated output
#         (This profile includes full esphome: and esp32: sections)
#
# ============================================================================

substitutions:
  name: "esp32_c3_oled_042"
  id: esp32_c3_oled_042
  friendly_name: 'ESP32-C3-OLED-0.42"'
  device_description: "ESP32-C3 OLED 0.42 inch"
  project_name: "ESPHomeDesigner_ESP32-C3-OLED-0.42"
  project_version: "1.0.0"
  #GPIO pins for the LCD screen and SD Card
  rstpin: GPIO21
  dcpin: GPIO15
  blpin: GPIO22
  clkpin: GPIO7
  mosipin: GPIO6
  misopin: GPIO5
  cspin: GPIO14
  # GPIO pins for i2c
  sdapin: GPIO1
  sclpin: GPIO2
  # SD Card
  sd_cs_pin: GPIO4
  # LED
  rgb_led:
    GPIO8
    # One Wire
  one_wire: GPIO10
  logger: "DEBUG"

esp32:
  board: esp32-c3-devkitm-1
  flash_size: 4MB
  framework:
    type: esp-idf

esphome:
  friendly_name: $friendly_name
  name: $name
  project:
    name: "${project_name}"
    version: "${project_version}"

# Enable Home Assistant API
api:
  encryption:
    key: !secret encryption_key

ota:
  - platform: esphome
    id: my_ota
    password: !secret ota_password

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "${name}"
    password: !secret wifi_fallback_password

logger:
  level: $logger

captive_portal:

i2c:
  sda: GPIO5
  scl: GPIO6
  scan: true
  id: bus_a
  frequency: 800kHz

display:
  - platform: ssd1306_i2c
    model: "SSD1306 72x40"
    id: my_display
    rotation: 0
    update_interval: 1s
    offset_y: 0
    offset_x: 0
    invert: false
    address: 0x3C
    lambda: |-
    # __LAMBDA_PLACEHOLDER__
